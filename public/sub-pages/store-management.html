<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>门店管理</title>
    <style>
        .store-management-container { padding: 20px; background: #f5f5f5; min-height: 100vh; }
        .page-header { background: white; padding: 20px; border-radius: 8px; margin-bottom: 20px; box-shadow: 0 2px 4px rgba(0,0,0,0.1); }
        .page-title { font-size: 24px; font-weight: 600; color: #333; margin-bottom: 8px; }
        .page-description { color: #666; font-size: 14px; }
        .filters { background: white; padding: 20px; border-radius: 8px; margin-bottom: 20px; box-shadow: 0 2px 4px rgba(0,0,0,0.1); }
        .filter-row { display: flex; gap: 15px; align-items: center; flex-wrap: wrap; }
        .filter-group { display: flex; flex-direction: column; gap: 5px; }
        .filter-label { font-size: 14px; color: #333; font-weight: 500; }
        .filter-input { padding: 8px 12px; border: 1px solid #d9d9d9; border-radius: 4px; font-size: 14px; min-width: 160px; }
        .btn { padding: 8px 16px; border: none; border-radius: 4px; cursor: pointer; font-size: 14px; }
        .btn-primary { background: #1890ff; color: white; }
        .btn-primary:hover { background: #40a9ff; }
        .btn-success { background: #52c41a; color: white; }
        .btn-success:hover { background: #73d13d; }
        .btn-danger { background: #ff4d4f; color: white; }
        .btn-danger:hover { background: #ff7875; }
        .table-container { background: white; border-radius: 8px; padding: 20px; box-shadow: 0 2px 4px rgba(0,0,0,0.1); overflow-x: auto; }
        .table-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 16px; }
        .table-title { font-size: 18px; font-weight: 600; margin: 0; }
        .table { width: 100%; border-collapse: collapse; }
        .table th, .table td { padding: 12px; text-align: left; border-bottom: 1px solid #f0f0f0; }
        .table th { background: #fafafa; font-weight: 600; color: #333; }
        .table tbody tr:hover { background: #fafafa; }
        .status-badge { padding: 4px 10px; border-radius: 4px; font-size: 12px; }
        .status-active { background: #f6ffed; color: #52c41a; }
        .status-inactive { background: #fff2f0; color: #ff4d4f; }
        .pagination { display: flex; justify-content: center; align-items: center; gap: 8px; margin-top: 20px; flex-wrap: wrap; }
        .pagination button { padding: 8px 14px; border: 1px solid #d9d9d9; background: white; border-radius: 4px; cursor: pointer; }
        .pagination button:hover:not(:disabled) { border-color: #1890ff; color: #1890ff; }
        .pagination button:disabled { cursor: not-allowed; opacity: 0.6; }
        .pagination span { font-size: 14px; color: #666; }
        .modal { display: none; position: fixed; left: 0; top: 0; right: 0; bottom: 0; background: rgba(0,0,0,0.5); z-index: 1000; align-items: center; justify-content: center; padding: 20px; }
        .modal.show { display: flex; }
        .modal-content { background: white; border-radius: 8px; max-width: 520px; width: 100%; max-height: 90vh; overflow-y: auto; }
        .modal-header { display: flex; justify-content: space-between; align-items: center; padding: 16px 20px; border-bottom: 1px solid #f0f0f0; }
        .modal-title { font-size: 18px; font-weight: 600; margin: 0; }
        .close-btn { background: none; border: none; font-size: 24px; cursor: pointer; color: #999; }
        .modal-body { padding: 20px; }
        .modal-footer { padding: 16px 20px; border-top: 1px solid #f0f0f0; display: flex; gap: 12px; justify-content: flex-end; }
        .form-group { margin-bottom: 16px; }
        .form-label { display: block; font-size: 14px; color: #333; margin-bottom: 6px; }
        .form-input { width: 100%; padding: 8px 12px; border: 1px solid #d9d9d9; border-radius: 4px; font-size: 14px; box-sizing: border-box; }
        .form-row { display: flex; gap: 16px; }
        .form-row .form-group { flex: 1; }
    </style>
</head>
<body>
    <div class="store-management-container">
        <div class="page-header">
            <h1 class="page-title">门店管理</h1>
            <p class="page-description">管理自提门店，小程序下单时可选择门店自提</p>
        </div>
        <div class="filters">
            <div class="filter-row">
                <div class="filter-group">
                    <label class="filter-label">搜索</label>
                    <input type="text" class="filter-input" id="searchInput" placeholder="门店名称/地址/区域">
                </div>
                <div class="filter-group">
                    <label class="filter-label">状态</label>
                    <select class="filter-input" id="statusFilter">
                        <option value="">全部</option>
                        <option value="active">启用</option>
                        <option value="inactive">停用</option>
                    </select>
                </div>
                <button class="btn btn-primary" style="margin-top: 22px;" onclick="searchStores()">查询</button>
                <button class="btn btn-success" style="margin-top: 22px;" onclick="showAddStoreModal()">新增门店</button>
            </div>
        </div>
        <div class="table-container">
            <div class="table-header">
                <h2 class="table-title">门店列表</h2>
            </div>
            <table class="table">
                <thead>
                    <tr>
                        <th>ID</th>
                        <th>门店名称</th>
                        <th>地址</th>
                        <th>区域</th>
                        <th>电话</th>
                        <th>营业时间</th>
                        <th>排序</th>
                        <th>状态</th>
                        <th>操作</th>
                    </tr>
                </thead>
                <tbody id="storeTableBody"></tbody>
            </table>
            <div class="pagination" id="pagination"></div>
        </div>
    </div>

    <div class="modal" id="storeModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title" id="storeModalTitle">新增门店</h3>
                <button class="close-btn" onclick="closeStoreModal()">&times;</button>
            </div>
            <div class="modal-body">
                <form id="storeForm">
                    <div class="form-group">
                        <label class="form-label">门店名称 *</label>
                        <input type="text" class="form-input" id="storeName" required placeholder="如：XX路自提点">
                    </div>
                    <div class="form-group">
                        <label class="form-label">详细地址</label>
                        <input type="text" class="form-input" id="storeAddress" placeholder="省市区+街道门牌">
                    </div>
                    <div class="form-group">
                        <label class="form-label">区域（省/市/区）</label>
                        <input type="text" class="form-input" id="storeRegion" placeholder="如：广东省深圳市南山区">
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label class="form-label">纬度</label>
                            <input type="text" class="form-input" id="storeLatitude" placeholder="用于地图定位">
                        </div>
                        <div class="form-group">
                            <label class="form-label">经度</label>
                            <input type="text" class="form-input" id="storeLongitude" placeholder="用于地图定位">
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="form-label">联系电话</label>
                        <input type="text" class="form-input" id="storePhone" placeholder="门店联系电话">
                    </div>
                    <div class="form-group">
                        <label class="form-label">营业时间</label>
                        <input type="text" class="form-input" id="storeBusinessHours" placeholder="如：9:00-21:00">
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label class="form-label">排序（数字越小越靠前）</label>
                            <input type="number" class="form-input" id="storeSortOrder" value="0" min="0">
                        </div>
                        <div class="form-group">
                            <label class="form-label">状态</label>
                            <select class="form-input" id="storeStatus">
                                <option value="active">启用</option>
                                <option value="inactive">停用</option>
                            </select>
                        </div>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button class="btn btn-primary" onclick="saveStore()">保存</button>
                <button class="btn" onclick="closeStoreModal()">取消</button>
            </div>
        </div>
    </div>

    <script src="../js/store-management.js"></script>
</body>
</html>
