<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8" />
  <link rel="shortcut icon"
    href="https://static-index-4gtuqm3bfa95c963-1304825656.tcloudbaseapp.com/official-website/favicon.svg"
    mce_href="https://static-index-4gtuqm3bfa95c963-1304825656.tcloudbaseapp.com/official-website/favicon.svg"
    type="image/x-icon" />
  <meta name="viewport"
    content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no" />
  <!-- ä½¿ç”¨æ›´ç¨³å®šçš„ CDNï¼ˆé¿å… jsdelivr åœ¨éƒ¨åˆ†ç½‘ç»œä¸å¯ç”¨å¯¼è‡´æ ·å¼å¤±æ•ˆï¼‰ -->
  <link href="https://cdn.staticfile.org/bootstrap/5.1.3/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://cdn.staticfile.org/bootstrap-icons/1.7.2/font/bootstrap-icons.min.css" rel="stylesheet">
  <style>
      /* é‡ç½®æ ·å¼ */
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }
  
    body {
        font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", "Roboto", "Helvetica Neue", Arial, sans-serif;
        background-color: #f5f7fa;
        color: #333;
      }
  
      /* åº”ç”¨å®¹å™¨ */
      .app-container {
        display: flex;
        height: 100vh;
      }
  
      /* ä¾§è¾¹æ æ ·å¼ */
      .sidebar {
        width: 260px;
        background: #fff;
        border-right: 1px solid #e1e5e9;
      display: flex;
      flex-direction: column;
      }
  
      .sidebar-header {
        padding: 20px;
        border-bottom: 1px solid #e1e5e9;
        background: #f8f9fa;
      }
  
      .sidebar-header h2 {
        font-size: 18px;
        font-weight: 600;
        color: #2c3e50;
      }
  
      .sidebar-nav {
        flex: 1;
        padding: 20px 0;
        overflow-y: auto;
      }
  
      .nav-group {
        margin-bottom: 30px;
      }
  
      .nav-group-title {
        padding: 0 20px 10px;
        font-size: 12px;
        font-weight: 600;
        color: #6c757d;
        text-transform: uppercase;
        letter-spacing: 0.5px;
      }
  
      .nav-list {
        list-style: none;
      }
  
      .nav-item {
      display: flex;
        align-items: center;
        padding: 12px 20px;
        cursor: pointer;
        transition: all 0.2s ease;
        border-left: 3px solid transparent;
      }
  
      .nav-item:hover {
        background-color: #f8f9fa;
        border-left-color: #007bff;
      }
  
      .nav-item.active {
        background-color: #e3f2fd;
        border-left-color: #2196f3;
        color: #1976d2;
      }
  
      .nav-icon {
        margin-right: 12px;
        font-size: 16px;
      }
  
      .nav-text {
        font-size: 14px;
      font-weight: 500;
      }
  
      /* ä¸»å†…å®¹åŒº */
      .main-content {
        flex: 1;
        padding: 30px;
        overflow-y: auto;
      }
  
      .welcome-message {
      text-align: center;
        padding: 60px 20px;
      }
  
      .welcome-message h1 {
        font-size: 32px;
        font-weight: 300;
        color: #2c3e50;
        margin-bottom: 16px;
      }
  
      .welcome-message p {
        font-size: 16px;
        color: #6c757d;
      }
  
      /* å“åº”å¼è®¾è®¡ */
      @media (max-width: 768px) {
        .app-container {
          flex-direction: column;
        }
        
        .sidebar {
          width: 100%;
          height: auto;
        }
        
        .main-content {
          padding: 20px;
        }
      }
      /* ç”¨æˆ·ä¿¡æ¯åŒºåŸŸ */
      .user-info {
      display: flex;
      align-items: center;
        justify-content: space-between;
        padding: 1rem;
        border-top: 1px solid #e1e5e9;
        background: #f8f9fa;
      }

      .user-info span {
        font-size: 14px;
        color: #495057;
        font-weight: 500;
      }

      .logout-btn {
        background: #dc3545;
        color: white;
        border: none;
        padding: 0.5rem 1rem;
        border-radius: 4px;
        cursor: pointer;
        font-size: 0.9rem;
        transition: background-color 0.3s;
      }

      .logout-btn:hover {
        background: #c82333;
    }
  </style>
  <title>ç³»ç»Ÿç®¡ç†åå°</title>
  <script>
    // æ£€æŸ¥ç™»å½•çŠ¶æ€
    document.addEventListener('DOMContentLoaded', async function() {
        // æ£€æŸ¥æ˜¯å¦æœ‰token
        const token = localStorage.getItem('token');
        if (!token) {
            window.location.href = '/login.html';
            return;
        }
    
        // éªŒè¯tokenæœ‰æ•ˆæ€§
        try {
            const response = await fetch('/api/auth/me', {
                headers: {
                    'Authorization': `Bearer ${token}`
                }
            });
    
            const result = await response.json();
            if (result.code !== 0) {
                // tokenæ— æ•ˆï¼Œæ¸…é™¤æœ¬åœ°å­˜å‚¨å¹¶è·³è½¬
                localStorage.removeItem('token');
                localStorage.removeItem('user');
                window.location.href = '/login.html';
                return;
            }
    
            // æ˜¾ç¤ºç”¨æˆ·ä¿¡æ¯
            const user = JSON.parse(localStorage.getItem('user') || '{}');
            if (user.username) {
                const userInfo = document.getElementById('userInfo');
                if (userInfo) {
                    userInfo.textContent = `æ¬¢è¿ï¼Œ${user.username}`;
                }
            }
        } catch (error) {
            console.error('TokenéªŒè¯å¤±è´¥:', error);
            localStorage.removeItem('token');
            localStorage.removeItem('user');
            window.location.href = '/login.html';
        }
    });
    
    // ç™»å‡ºåŠŸèƒ½
    async function logout() {
        try {
            const token = localStorage.getItem('token');
            if (token) {
                await fetch('/api/auth/logout', {
                    method: 'POST',
                    headers: {
                        'Authorization': `Bearer ${token}`
                    }
                });
            }
        } catch (error) {
            console.error('ç™»å‡ºè¯·æ±‚å¤±è´¥:', error);
        } finally {
            // æ¸…é™¤æœ¬åœ°å­˜å‚¨å¹¶è·³è½¬åˆ°ç™»å½•é¡µ
            localStorage.removeItem('token');
            localStorage.removeItem('user');
            window.location.href = '/login.html';
        }
  }
</script>
</head>
<body>
  <div class="app-container">
    <!-- ä¾§è¾¹æ  -->
    <aside class="sidebar">
      <div class="sidebar-header">
        <h2>ç³»ç»Ÿç®¡ç†åå°</h2>
      </div>
      <nav class="sidebar-nav">
        <div class="nav-group">
          <div class="nav-group-title">ä»ªè¡¨ç›˜</div>
          <ul class="nav-list">
            <li class="nav-item" data-page="dashboard">
              <span class="nav-icon">ğŸ“Š</span>
              <span class="nav-text">ç³»ç»Ÿæ¦‚è§ˆ</span>
            </li>
          </ul>
        </div>
        <div class="nav-group">
          <div class="nav-group-title">ç”¨æˆ·ç®¡ç†</div>
          <ul class="nav-list">
            <li class="nav-item" data-page="user-management">
              <span class="nav-icon">ğŸ‘¥</span>
              <span class="nav-text">ç®¡ç†ç³»ç»Ÿç”¨æˆ·</span>
            </li>
          </ul>
        </div>
        <div class="nav-group">
          <div class="nav-group-title">ä¼šå‘˜ç®¡ç†</div>
          <ul class="nav-list">
            <li class="nav-item" data-page="member-management">
              <span class="nav-icon">ğŸ‘¤</span>
              <span class="nav-text">ä¼šå‘˜ä¿¡æ¯ç®¡ç†</span>
            </li>
            <li class="nav-item" data-page="member-levels">
              <span class="nav-icon">ğŸ‘‘</span>
              <span class="nav-text">ä¼šå‘˜ç­‰çº§ç®¡ç†</span>
          </li>
            <li class="nav-item" data-page="distributor-levels">
            <span class="nav-icon">ğŸ†</span>
            <span class="nav-text">åˆ†é”€ç­‰çº§ç®¡ç†</span>
          </li>
          <li class="nav-item" data-page="team-expansion-levels">
            <span class="nav-icon">ğŸš€</span>
            <span class="nav-text">å›¢é˜Ÿæ‹“å±•ç­‰çº§ç®¡ç†</span>
          </li>
          </ul>
        </div>
        <div class="nav-group">
          <div class="nav-group-title">å•†å“ç®¡ç†</div>
          <ul class="nav-list">
            <li class="nav-item" data-page="category-management">
              <span class="nav-icon">ğŸ“‚</span>
              <span class="nav-text">å•†å“åˆ†ç±»ç®¡ç†</span>
            </li>
            <li class="nav-item" data-page="products">
              <span class="nav-icon">ğŸ“¦</span>
              <span class="nav-text">å•†å“ä¿¡æ¯ç®¡ç†</span>
            </li>
          </ul>
        </div>
        <div class="nav-group">
          <div class="nav-group-title">è®¢å•ç®¡ç†</div>
          <ul class="nav-list">
            <li class="nav-item" data-page="orders">
              <span class="nav-icon">ğŸ“„</span>
              <span class="nav-text">è®¢å•å¤„ç†</span>
            </li>
            <li class="nav-item" data-page="return-management">
              <span class="nav-icon">â†©ï¸</span>
              <span class="nav-text">é€€è´§ç®¡ç†</span>
            </li>
            <li class="nav-item" data-page="refund-management">
              <span class="nav-icon">â†©ï¸</span>
              <span class="nav-text">é€€æ¬¾ç®¡ç†</span>
            </li>
            <li class="nav-item" data-page="commission-management">
              <span class="nav-icon">ğŸ’°</span>
              <span class="nav-text">ä½£é‡‘ç®¡ç†</span>
            </li>
          </ul>
        </div>
        <div class="nav-group">
          <div class="nav-group-title">ç³»ç»Ÿè®¾ç½®</div>
          <ul class="nav-list">
            <li class="nav-item" data-page="system-settings">
              <span class="nav-icon">ğŸ”§</span>
              <span class="nav-text">é€šç”¨è®¾ç½®</span>
            </li>
            <li class="nav-item" data-page="point-settings">
              <span class="nav-icon">âš™ï¸</span>
              <span class="nav-text">ç§¯åˆ†è®¾ç½®</span>
            </li>
            <li class="nav-item" data-page="wechat-payment-config">
              <span class="nav-icon">ğŸ’³</span>
              <span class="nav-text">å¾®ä¿¡æ”¯ä»˜é…ç½®</span>
            </li>
          </ul>
        </div>
        <div class="nav-group">
          <div class="nav-group-title">è¥é”€å·¥å…·</div>
          <ul class="nav-list">
            <li class="nav-item" data-page="coupon-management">
              <span class="nav-icon">ğŸ«</span>
              <span class="nav-text">ä¼˜æƒ åˆ¸ç®¡ç†</span>
            </li>
            <li class="nav-item" data-page="promotion-management">
              <span class="nav-icon">ğŸ¯</span>
              <span class="nav-text">ä¿ƒé”€æ´»åŠ¨ç®¡ç†</span>
            </li>
            <li class="nav-item" data-page="point-mall-management">
              <span class="nav-icon">ğŸ›’</span>
              <span class="nav-text">ç§¯åˆ†å•†åŸç®¡ç†</span>
            </li>
            <li class="nav-item" data-page="referral-management">
              <span class="nav-icon">ğŸ‘¥</span>
              <span class="nav-text">æ¨èå¥–åŠ±ç®¡ç†</span>
            </li>
            <li class="nav-item" data-page="lucky-draw-management">
              <span class="nav-icon">ğŸ²</span>
              <span class="nav-text">æŠ½å¥–æ´»åŠ¨ç®¡ç†</span>
            </li>
            <li class="nav-item" data-page="sms-management">
              <span class="nav-icon">ğŸ“±</span>
              <span class="nav-text">çŸ­ä¿¡è¥é”€ç®¡ç†</span>
            </li>
            <li class="nav-item" data-page="email-management">
              <span class="nav-icon">ğŸ“§</span>
              <span class="nav-text">é‚®ä»¶è¥é”€ç®¡ç†</span>
            </li>
            <li class="nav-item" data-page="banner-management">
              <span class="nav-icon">ğŸ–¼ï¸</span>
              <span class="nav-text">è½®æ’­å›¾ç®¡ç†</span>
            </li>
            <li class="nav-item" data-page="article-management">
              <span class="nav-icon">ğŸ“°</span>
              <span class="nav-text">èµ„è®¯ç®¡ç†</span>
            </li>
            <li class="nav-item" data-page="popup-management">
              <span class="nav-icon">ğŸ’¬</span>
              <span class="nav-text">å¼¹çª—ç®¡ç†</span>
            </li>
          </ul>
        </div>
      </nav>
      <!-- ç”¨æˆ·ä¿¡æ¯åŒºåŸŸ -->
      <div class="user-info">
        <span id="userInfo">ç”¨æˆ·ä¿¡æ¯</span>
        <button onclick="logout()" class="logout-btn">ç™»å‡º</button>
      </div>
    </aside>
    
    <!-- ä¸»å†…å®¹åŒº -->
    <main class="main-content">
      <div id="sub-page-container">
        <div class="welcome-message">
          <h1>æ¬¢è¿ä½¿ç”¨ç³»ç»Ÿç®¡ç†åå°</h1>
          <p>è¯·é€‰æ‹©å·¦ä¾§èœå•å¼€å§‹ç®¡ç†æ“ä½œ</p>
        </div>
      </div>
    </main>
  </div>
  
  <script src="https://cdn.staticfile.org/bootstrap/5.1.3/js/bootstrap.bundle.min.js"></script>
  <script src="js/page-loader.js"></script>
</body>
</html>
